<!DOCTYPE html>
<html lang="en">
<head>
    <title>lancefy</title>
    <link rel="icon" type="image/x-icon" href="Images\Lance.png">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        h1{text-align: center;}
        h2{text-align: center;}
        h3{text-align: left;}
        h4{text-align: center;}
        p{text-align: left;}
        pre{text-align: center;}
    </style>
    <link rel="stylesheet" href="test.js">
</head>

<body>
    <div id="test"></div>
    <h1>Temperatures:</h1>
    <h2></h2>

    <!--<script>
        fetch('http://193.122.14.71:8085/api/plugins/telemetry/DEVICE/41264160-fb47-11ee-9cc4-f58d0edc07e6/values/timeseries', {
            method: 'get',
            headers: {
                'X-Authorization': 'Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJqYW1pZS5tYXJqYW5pY0BnbWFpbC5jb20iLCJ1c2VySWQiOiI2MzMyOWM5MC0xMDY0LTExZWYtOWNjNC1mNThkMGVkYzA3ZTYiLCJzY29wZXMiOlsiVEVOQU5UX0FETUlOIl0sInNlc3Npb25JZCI6IjBmNzI5YjMxLTM4ZjktNDczNS1iYWQyLWFlZGYzZDgxMjZmZCIsImlzcyI6InRoaW5nc2JvYXJkLmlvIiwiaWF0IjoxNzE1NjEzOTA5LCJleHAiOjE3MTU2MjI5MDksImZpcnN0TmFtZSI6Ikl2YW4iLCJsYXN0TmFtZSI6Ik1hcmphbmnEhyIsImVuYWJsZWQiOnRydWUsImlzUHVibGljIjpmYWxzZSwidGVuYW50SWQiOiJjY2QyYzJlMC1mYjNmLTExZWUtOTI5Zi02YmJkMDA2Y2MwMTMiLCJjdXN0b21lcklkIjoiMTM4MTQwMDAtMWRkMi0xMWIyLTgwODAtODA4MDgwODA4MDgwIn0.LuVqIuL9ouwRavTmGv954nxxCgIibsmlzsP_sXgkd6zSMmH2XYo3VSkkdQHwqxbeHobsX7nHoz8VBNdTl-34ZQ' ,
                'Content-Type': 'application/json'
            },
            mode: 'cors',
            cache: 'default',
        })
            .then(response => response.json())
            .then(json => console.log(json))
            .catch(error => console.log('ERROR'))
    </script>-->

    <script>
        fetch('http://193.122.14.71:8085/api/plugins/telemetry/DEVICE/41264160-fb47-11ee-9cc4-f58d0edc07e6/values/timeseries?keys=temperature', {
            method: 'GET',
            headers: {
                'X-Authorization': 'Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJqYW1pZS5tYXJqYW5pY0BnbWFpbC5jb20iLCJ1c2VySWQiOiI2MzMyOWM5MC0xMDY0LTExZWYtOWNjNC1mNThkMGVkYzA3ZTYiLCJzY29wZXMiOlsiVEVOQU5UX0FETUlOIl0sInNlc3Npb25JZCI6IjBmNzI5YjMxLTM4ZjktNDczNS1iYWQyLWFlZGYzZDgxMjZmZCIsImlzcyI6InRoaW5nc2JvYXJkLmlvIiwiaWF0IjoxNzE1Njk3OTA4LCJleHAiOjE3MTU3MDY5MDgsImZpcnN0TmFtZSI6Ikl2YW4iLCJsYXN0TmFtZSI6Ik1hcmphbmnEhyIsImVuYWJsZWQiOnRydWUsImlzUHVibGljIjpmYWxzZSwidGVuYW50SWQiOiJjY2QyYzJlMC1mYjNmLTExZWUtOTI5Zi02YmJkMDA2Y2MwMTMiLCJjdXN0b21lcklkIjoiMTM4MTQwMDAtMWRkMi0xMWIyLTgwODAtODA4MDgwODA4MDgwIn0.tFMKLbU-NGicbHJz6F4yhE3YpZKTrL-dp-8XpbVuvsdM-784m2KQLsO6bPCbW-hcZVXJAdHyd5SHUUFQL_Rz1g',
                'Content-Type': 'application/json'
            },
            mode: 'cors',
            cache: 'default',
        })
            .then(res => res.json())
            .then(data => {
                const temperature = data.temperature[0].value; // Access the temperature value from the response
                const markup = `<h2>${temperature}</h2>`;
                document.querySelector('h2').insertAdjacentHTML('beforeend', markup);
            })
            .catch(error => console.error('Error fetching data:', error));
    </script>
</body>